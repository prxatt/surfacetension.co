<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surface Tension Presents: Digital Drip</title>
    
    <!-- Fonts: IvyPresto Display from Adobe Fonts & Inter from Google Fonts -->
    <link rel="stylesheet" href="https://use.typekit.net/jhs3mli.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

    <style>
        /* --- CSS Variables and Base Styles --- */
        :root {
            --color-background: #000000;
            --color-platinum: #E5E4E2;
            --color-white: #FFFFFF;
            --color-emerald: #00FFBF; /* For Digital Drip */
            --color-purple: #9400D3; /* For Tickets */
            --color-teal: #008080;   /* For Founders Access */
            --color-silver: #C0C0C0; /* For Socials */
            --font-display: "ivypresto-display", serif;
            --font-sans: "Inter", sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--color-background);
            color: var(--color-platinum);
            font-family: var(--font-sans);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.6;
            min-height: 100vh;
            overscroll-behavior: none; /* Prevents pull-to-refresh on mobile */
        }

        /* --- Background Visual --- */
        .canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.8; /* Increased opacity for more presence */
        }

        /* --- Main Layout & Content --- */
        .container {
            width: 100%;
            max-width: 680px;
            margin: 0 auto;
            padding: 15vh 2rem 5rem; /* Increased top padding to push content down */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            text-align: center;
        }

        .header, .description, .link-section, #spotify-embed {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 1.2s forwards cubic-bezier(0.16, 1, 0.3, 1);
        }

        .header { animation-delay: 0.2s; }
        .description { animation-delay: 0.4s; }
        .link-section { animation-delay: 0.6s; }
        #spotify-embed { animation-delay: 0.8s; }


        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- Header & Title Styling --- */
        .header {
            width: 100%;
            margin-bottom: 2.5rem;
        }
        
        .title {
            font-family: var(--font-display);
            font-weight: 400;
            font-size: clamp(2.8rem, 10vw, 5.5rem);
            letter-spacing: 0.03em;
            color: var(--color-platinum);
            margin: 0 0 1rem 0;
            text-transform: uppercase;
            line-height: 1;
        }
        
        .presents {
            font-family: var(--font-display);
            font-weight: 400;
            font-size: clamp(1rem, 3vw, 1.2rem);
            letter-spacing: 0.1em;
            color: rgba(229, 228, 226, 0.6);
            margin-bottom: 1rem;
            text-transform: uppercase;
        }
        
        .subtitle {
            font-family: var(--font-display);
            font-weight: 400;
            font-size: clamp(2.5rem, 8vw, 4rem);
            letter-spacing: 0.05em;
            text-transform: uppercase;
            line-height: 1.1;
            margin-top: 1rem;
            color: var(--color-emerald);
            text-shadow: 0 0 5px rgba(0, 255, 191, 0.3), 0 0 10px rgba(0, 255, 191, 0.3), 0 0 20px rgba(0, 255, 191, 0.3);
            animation: neon-flicker 5s infinite alternate;
        }
        
        @keyframes neon-flicker {
            0%, 18%, 22%, 25%, 53%, 57%, 100% {
                text-shadow:
                0 0 4px var(--color-emerald),
                0 0 11px var(--color-emerald),
                0 0 19px var(--color-emerald),
                0 0 40px var(--color-emerald),
                0 0 80px #fff,
                0 0 90px #fff;
                opacity: 1;
            }
            20%, 24%, 55% {
                text-shadow: none;
                opacity: 0.9;
            }
        }

        /* --- Description Styling --- */
        .description {
            font-size: clamp(0.95rem, 1.5vw, 1.05rem);
            color: rgba(229, 228, 226, 0.8);
            max-width: 520px;
            margin: 0 auto 3.5rem;
            font-weight: 300;
        }
        
        .description a {
            color: var(--color-platinum);
            text-decoration: underline;
            text-decoration-color: rgba(229, 228, 226, 0.4);
            transition: text-decoration-color 0.3s ease;
        }
        
        .description a:hover {
            text-decoration-color: var(--color-platinum);
        }

        /* --- Links Grid Styling --- */
        .link-section {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-bottom: 3.5rem;
        }

        .link-item a {
            position: relative;
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.25rem;
            border: 1px solid rgba(229, 228, 226, 0.15);
            border-radius: 8px;
            text-decoration: none;
            color: var(--color-platinum);
            font-size: 1rem;
            background-color: rgba(255, 255, 255, 0.02);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.3s ease;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .link-item a:hover {
            transform: translateY(-5px) scale(1.03);
            border-color: rgba(229, 228, 226, 0.5);
        }
        
        .link-item a:hover .link-icon {
            color: var(--color-white);
        }
        
        /* --- Hollywood Neon Glow Effect --- */
        .link-item a::before {
            content: '';
            position: absolute;
            top: -2px; left: -2px;
            right: -2px; bottom: -2px;
            background: inherit;
            border-radius: inherit;
            z-index: -1;
            filter: blur(10px);
            opacity: 0.7;
            transition: opacity 0.4s ease, filter 0.4s ease;
        }

        .link-item a:hover::before {
            opacity: 1;
            filter: blur(15px);
        }

        .link-item.tickets a { --glow-color: var(--color-purple); }
        .link-item.social a { --glow-color: var(--color-silver); }

        .link-item a {
            box-shadow: 0 0 5px rgba(0,0,0,0.8), inset 0 0 5px rgba(0,0,0,0.5), 0 0 15px 2px var(--glow-color);
            animation: icon-glow 5s infinite alternate;
        }
        
        .link-item a:hover {
            box-shadow: 0 0 10px rgba(0,0,0,0.5), inset 0 0 8px rgba(0,0,0,0.3), 0 0 30px 5px var(--glow-color);
            animation-play-state: paused;
        }

        .link-icon {
            width: 24px;
            height: 24px;
            color: var(--glow-color);
            filter: drop-shadow(0 0 3px var(--glow-color));
            transition: color 0.3s ease, filter 0.3s ease, transform 0.3s ease;
        }

        .link-text {
            flex-grow: 1;
            text-align: left;
            font-weight: 500;
        }
        
        .sub-text {
            font-size: 0.75rem;
            font-weight: 300;
            color: rgba(229, 228, 226, 0.6);
            margin-top: 0.1rem;
        }

        /* --- Link Hierarchy & Layout --- */
        .primary-actions {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            width: 100%;
        }
        
        .secondary-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            width: 100%;
        }

        .link-item.tickets a {
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 1.5rem;
            gap: 0.5rem;
        }
        
        .link-item.tickets .link-text {
            font-size: 1.2rem;
            letter-spacing: 0.05em;
        }
        
        /* --- Spotify Embed --- */
        #spotify-embed {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        /* --- Responsive Design --- */
        @media (max-width: 600px) {
            .container {
                padding: 8vh 1.5rem 4rem;
            }
            .secondary-links {
                grid-template-columns: 1fr;
            }
        }

    </style>
    <!-- Library Loading: Deferred for non-blocking rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/EffectComposer.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/RenderPass.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/ShaderPass.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/CopyShader.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/shaders/LuminosityHighPassShader.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/postprocessing/UnrealBloomPass.js" defer></script>
</head>
<body>

    <div id="background-canvas-container" class="canvas-container">
        <canvas id="background-canvas"></canvas>
    </div>

    <main class="container">
        <header class="header">
            <h1 class="title">SURFACE TENSION</h1>
            <h2 class="presents">Presents</h2>
            <h2 class="subtitle">Digital Drip</h2>
        </header>

        <p class="description">
            SF's first coffee rave: electronic beats meet craft coffee mocktails in an immersive art experience. Limited capacity. <a href="https://www.google.com/calendar/render?action=TEMPLATE&text=SURFACE%20TENSION%20-%20DIGITAL%20DRIP&dates=20250726T170000/20250726T220000&location=539%20Valencia%20Street,%20San%20Francisco,%20CA&details=SF's%20first%20coffee%20rave:%20electronic%20beats%20meet%20craft%20coffee%20mocktails%20in%20an%20immersive%20art%20experience.%20Limited%20capacity." target="_blank" rel="noopener noreferrer">July 26, 5pm.</a>
        </p>

        <div class="link-section">
            <div class="primary-actions">
                <div class="link-item tickets">
                    <a href="https://www.eventbrite.com/e/surface-tension-digital-drip-an-after-hours-art-rave-tickets-1471279469499?aff=oddtdtcreator" target="_blank" rel="noopener noreferrer">
                        <span class="link-text">Tickets</span>
                        <span class="sub-text">Limited Availability</span>
                    </a>
                </div>
            </div>

            <div class="secondary-links">
                <div class="link-item social">
                    <a href="https://www.instagram.com/surfacetension.co" target="_blank" rel="noopener noreferrer">
                        <span class="link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><rect width="18" height="18" x="3" y="3" rx="4"/><circle cx="12" cy="12" r="4"/><line x1="17.5" x2="17.5" y1="6.5" y2="6.5"/></svg>
                        </span>
                        <span class="link-text">Instagram</span>
                    </a>
                </div>
                <div class="link-item social">
                    <a href="https://open.spotify.com/playlist/7bZl258Ezd6jMDGYtDIA2P?si=196e93fd26d04acd" target="_blank" rel="noopener noreferrer">
                        <span class="link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm4.183 14.225c-.22.359-.686.469-1.045.25-2.99-1.839-6.75-2.24-11.139-1.23a.5.5 0 01-.55-.54c.03-1.636.24-3.23.6-4.76.04-.19.24-.3.43-.26 4.43 1.02 8.21 1.41 11.21 0 .359-.17.785.01 1.005.37.22.359.109.824-.25 1.045zM12 11.5c-2.33 0-4.22.9-4.22 2s1.89 2 4.22 2 4.22-.9 4.22-2-1.89-2-4.22-2zm0-1c1.21 0 2.22.99 2.22 2.22s-1.01 2.22-2.22 2.22-2.22-.99-2.22-2.22S10.79 10.5 12 10.5z"/></svg>
                        </span>
                        <span class="link-text">Surface Tension Playlist</span>
                    </a>
                </div>
                <div class="link-item social">
                    <a href="https://www.tiktok.com/@surfacetension.co" target="_blank" rel="noopener noreferrer">
                        <span class="link-icon">
                           <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M16.6 5.82s.01 0 .01 0c.33 0 .65.02.96.05v3.36c-.97-.26-1.95-.44-2.94-.51v9.33c0 2.02-1.64 3.66-3.66 3.66-2.02 0-3.66-1.64-3.66-3.66s1.64-3.66 3.66-3.66c.23 0 .46.02.68.06V5.21c-1.3-.43-2.69-.6-4.11-.5-3.83.25-6.89 3.38-7.13 7.21-.24 3.83 2.73 7.13 6.56 7.37 3.83.24 7.13-2.73 7.37-6.56V5.82z"/></svg>
                        </span>
                        <span class="link-text">TikTok</span>
                    </a>
                </div>
                <div class="link-item social">
                    <a href="https://x.com/surfacetensi_o" target="_blank" rel="noopener noreferrer">
                        <span class="link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.602.75zM11.47 13.83h1.57L5.48 2.16h-1.7z"/>
                            </svg>
                        </span>
                        <span class="link-text">X (Twitter)</span>
                    </a>
                </div>
                <div class="link-item social">
                    <a href="https://surfacetension.co" target="_blank" rel="noopener noreferrer">
                        <span class="link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c1.356 0 2.673-.11 3.955-.329M12 21c-1.356 0-2.673-.11-3.955-.329m0 0a9.006 9.006 0 01-5.68-2.042M12 3c1.356 0 2.673.11 3.955.329m-3.955-.329a9.006 9.006 0 00-5.68 2.042m11.362 0a9.006 9.006 0 01-5.68 2.042" />
                            </svg>
                        </span>
                        <span class="link-text">Website</span>
                    </a>
                </div>
                <div class="link-item social">
                    <a href="mailto:connect.surfacetension@gmail.com">
                        <span class="link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                            </svg>
                        </span>
                        <span class="link-text">Contact Us</span>
                    </a>
                </div>
            </div>
        </div>
        
        <div id="spotify-embed">
            <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/7bZl258Ezd6jMDGYtDIA2P?utm_source=generator&theme=0" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
        </div>
    </main>

    <script type="module">
    // Use DOMContentLoaded for faster script execution
    document.addEventListener('DOMContentLoaded', () => {
        
        // Robustly check for libraries before initializing the main scene
        function checkAndInit() {
            if (window.THREE && window.gsap) {
                main();
            } else {
                // Poll until libraries are loaded
                setTimeout(checkAndInit, 50);
            }
        }

        function main() {
            // --- Global State ---
            const clock = new THREE.Clock();
            
            // --- Scene Variables ---
            let bgScene, bgCamera, bgRenderer, bgComposer, bgRippleVisual;
            
            // --- VERCEL PERFORMANCE: Enhanced Device Capability Detection ---
            const getPerformanceTier = () => {
                const ua = navigator.userAgent;
                const isMobile = /Mobi|Android|iPhone/i.test(ua);
                const screenArea = window.innerWidth * window.innerHeight * window.devicePixelRatio;
                const memory = navigator.deviceMemory || 2;

                if (isMobile || screenArea < 1000000 || memory < 4) return 'low';
                if (screenArea < 2500000 || memory < 8) return 'medium';
                return 'high';
            };

            const performanceLevel = getPerformanceTier();
            
            // --- Optimized Particle Count ---
            function getAdaptiveParticleCount(baseCount) {
                 if (performanceLevel === 'low') return Math.floor(baseCount * 0.3);
                 if (performanceLevel === 'medium') return Math.floor(baseCount * 0.6);
                 return baseCount;
            }

            // --- Debounce Utility ---
            function debounce(func, wait) {
                let timeout;
                return function(...args) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func.apply(this, args), wait);
                };
            }

            /*
             * ==================================
             * == SHADER CODE (BACKGROUND)    ==
             * ==================================
             */
            const backgroundVertexShader = `
                uniform float uTime;
                uniform float uRippleProgress;
                uniform float uRippleMix;
                attribute float aParticleType;
                varying float vAlpha;
                varying vec3 vColor;

                void main() {
                    vec3 greenHaloColor = vec3(0.06, 0.9, 0.6);
                    vec3 greenCenterColor = vec3(0.8, 1.0, 0.9);
                    vec3 platinumHaloColor = vec3(0.7, 0.75, 0.85);
                    vec3 platinumCenterColor = vec3(1.0, 1.0, 1.0);

                    vec3 greenColor = mix(greenCenterColor, greenHaloColor, 0.5);
                    vec3 platinumColor = mix(platinumCenterColor, platinumHaloColor, 0.5);
                    vColor = mix(greenColor, platinumColor, aParticleType) * 1.2;

                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
                    float dist = length(mvPosition.xy);
                    float originalAnimZ = sin(dist * 1.2 - uTime * 0.15) * 1.5 * exp(-dist * 0.1);
                    float rippleTravel = uRippleProgress * 80.0;
                    float rippleWidth = 7.0;
                    float rippleAmplitude = 10.0;
                    float profile = sin((dist - rippleTravel) / rippleWidth * 3.14159);
                    profile = max(0.0, profile);
                    profile = pow(profile, 2.0);
                    float cinematicAnimZ = profile * rippleAmplitude;
                    mvPosition.z += mix(originalAnimZ, cinematicAnimZ, uRippleMix);
                    float zFactor = 1.0 - clamp(abs(mvPosition.z / 20.0), 0.0, 1.0);
                    gl_PointSize = (zFactor * zFactor) * 3.0 + 1.0; /* Increased particle size */
                    vAlpha = zFactor * 1.2;
                    gl_Position = projectionMatrix * mvPosition;
                }
            `;

            const backgroundFragmentShader = `
                varying float vAlpha;
                varying vec3 vColor;
                void main() {
                    float dist = distance(gl_PointCoord, vec2(0.5));
                    if (dist > 0.5) discard;
                    float strength = 1.0 - dist * 2.0;
                    vec3 finalColor = clamp(vColor, 0.0, 1.5);
                    gl_FragColor = vec4(finalColor, strength * vAlpha);
                }
            `;
            
            // --- Scene and Visuals Setup ---
            function init() {
                initBackgroundScene();
                setupEventListeners();
                animate();
                startMasterAnimationSequence();
            }
            
            function initBackgroundScene() {
                bgScene = new THREE.Scene();
                bgCamera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                bgCamera.position.z = 2;
                bgRenderer = new THREE.WebGLRenderer({ canvas: document.getElementById('background-canvas'), antialias: performanceLevel !== 'low', alpha: true });
                bgRenderer.setSize(window.innerWidth, window.innerHeight);
                bgRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                
                const pCount = getAdaptiveParticleCount(80000);
                const geometry = new THREE.BufferGeometry();
                const pos = new Float32Array(pCount * 3);
                const particleTypes = new Float32Array(pCount);
                for (let i = 0; i < pCount; i++) {
                    const i3 = i * 3;
                    const r = Math.random() * 30;
                    const a = Math.random() * Math.PI * 2;
                    pos.set([r * Math.cos(a), r * Math.sin(a), (Math.random() - .5) * 12], i3);
                    particleTypes[i] = Math.random() < 0.2 ? 1.0 : 0.0;
                }
                geometry.setAttribute('position', new THREE.BufferAttribute(pos, 3));
                geometry.setAttribute('aParticleType', new THREE.BufferAttribute(particleTypes, 1));
                
                const material = new THREE.ShaderMaterial({ 
                    vertexShader: backgroundVertexShader, 
                    fragmentShader: backgroundFragmentShader, 
                    uniforms: { 
                        uTime: { value: 0 },
                        uRippleProgress: { value: 0 },
                        uRippleMix: { value: 0 }
                    }, 
                    blending: THREE.AdditiveBlending, 
                    transparent: true, 
                    depthWrite: false 
                });
                bgRippleVisual = new THREE.Points(geometry, material);
                bgScene.add(bgRippleVisual);
                bgComposer = new THREE.EffectComposer(bgRenderer);
                bgComposer.addPass(new THREE.RenderPass(bgScene, bgCamera));
                if (performanceLevel === 'high') {
                    const bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 0.4, 0.6, 0.2);
                    bgComposer.addPass(bloomPass);
                }
            }

            function setupEventListeners() {
                window.addEventListener('resize', debounce(onWindowResize, 200), false);
            }

            function startMasterAnimationSequence() {
                const uniforms = bgRippleVisual.material.uniforms;
                function runRippleCycle() {
                    uniforms.uRippleProgress.value = 0;
                    gsap.timeline({
                        onComplete: () => {
                            setTimeout(runRippleCycle, 8000);
                        }
                    })
                    .to(uniforms.uRippleProgress, {
                        value: 1,
                        duration: 20,
                        ease: "power1.inOut"
                    })
                    .fromTo(uniforms.uRippleMix, { value: 0 }, {
                        value: 1,
                        duration: 7,
                        ease: "sine.in"
                    }, 0)
                    .to(uniforms.uRippleMix, {
                        value: 0,
                        duration: 7,
                        ease: "sine.out"
                    }, ">-7");
                }
                setTimeout(runRippleCycle, 6000);
            }
            
            function onWindowResize() { 
                const width = window.innerWidth;
                const height = window.innerHeight;
                bgCamera.aspect = width / height; 
                bgCamera.updateProjectionMatrix(); 
                bgRenderer.setSize(width, height); 
                bgComposer.setSize(width, height);
                bgRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            }

            function animate() {
                requestAnimationFrame(animate);
                const elapsedTime = clock.getElapsedTime();
                if (bgRippleVisual) {
                    bgRippleVisual.material.uniforms.uTime.value = elapsedTime;
                    bgComposer.render();
                }
            }
            
            // Initialize the application
            init();
        }

        // Start the process
        checkAndInit();
    });
    </script>
</body>
</html>
